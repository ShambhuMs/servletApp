<!DOCage html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tv Recharge</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <!--    <script src="index.jsp"></script>-->
    <style>
        .navbar-brand{
        position:relative;
        left:100px;
        }

        body {
          width: 1200px;
          height: 900px;
        }

        h1 {
          position: relative;
          top: 100px;
          left: 300px;
        }

        form {
          position: relative;
          top: 150px;
          left: 300px;
          border: 2px solid black;
          border-radius: 20px;
          width: 500px;
          height: 460px;
        }

        .col-sm-3 {
          margin-left: 55px;
          margin-top: 6px;
        }

        .col-sm-5 {
          height: 10px;
        }

        .custom-select {
          width: 200px;
          margin: 10px;
        }

        .form-group {
          margin-top: 8px;
        }

        #bloodGroup{
          height: 28px;
          margin-top: 20px;;
        }

        .form-check #invalidCheck {
          margin-left: 55px;
        }

        form #button {
          margin-left: 160px;
        }
        .col-sm-4{
          margin-top: 10px;
        }
    </style>
    <script>

        let fieldsChecks = {
          "firstname": false,
          "lastname": false,
          "bloodGroup": false,
          "age": false
<!--          "gender":false-->
<!--           "invalidCheck": false-->
        };

        function validateAndEnableSubmit() {
          let flag = false;

          for (let [key, value] of Object.entries(fieldsChecks)) {

            if (value === false) {
              flag = true;
              break;
            }
          }

          if (!flag) {
            document.getElementById("button").removeAttribute("disabled");
          } else {
            document.getElementById("button").setAttribute("disabled", "");
          }
        }





        let firstnameValidation = () => {
          let id = document.getElementById("firstname").value.trim();
          if (id.length < 15 ) {
            document.getElementById("firstnameError").innerHTML = "";
            fieldsChecks["firstname"] = true;
          }
          else {
            document.getElementById("firstnameError").innerHTML = "Please enter valid name";
            document.getElementById("firstnameError").style.color = 'red';
            fieldsChecks["firstname"] = false;
          }
          validateAndEnableSubmit()
        }


        let lastnameValidation = () => {
          let id = document.getElementById("lastname").value.trim();
          if (id.length < 15) {
            document.getElementById("lastnameError").innerHTML = "";
            fieldsChecks["lastname"] = true;
          }
          else {
           document.getElementById("lastnameError").innerHTML = "Please enter valid name";
            document.getElementById("lastnameError").style.color = 'red';
            fieldsChecks["lastname"] = false;
          }
          validateAndEnableSubmit()
        }

        let bloodGroupValidation = () => {
          let res = document.getElementById("bloodGroup").value.trim();
          if (res === "") {
            document.getElementById("bloodGroupError").innerHTML = "Please select the bloodGroup";
            document.getElementById("bloodGroupError").style.color = 'red';
            fieldsChecks["bloodGroup"] = false;
          }
          else {
            document.getElementById("bloodGroupError").innerHTML = "";
            fieldsChecks["bloodGroup"] = true;
          }
          validateAndEnableSubmit()
        }


     let   ageValidation=()=> {
          let res = document.getElementById("age").value.trim();
          if (res === "") {
            document.getElementById("ageError").innerHTML = "Please select the age";
            document.getElementById("ageError").style.color = 'red';
           fieldsChecks["age"] = false;
          }
          else {
            document.getElementById("ageError").innerHTML = "";
            fieldsChecks["age"] = true;
          }
          validateAndEnableSubmit()
        }


<!--        genderValidation = () => {-->
<!--          let btn = document.getElementById("button");-->
<!--          -->
<!--          if (register.gender.value !=null) {-->
<!--           document.getElementByName("genderError").innerHTML = "";-->
<!--            fieldsChecks["gender"] = true;-->
<!--            btn.removeAttribute("disabled");-->
<!--          }-->
<!--          else {-->
<!--            document.getElementById("genderError").innerHTML = "Please select the age";-->
<!--            document.getElementById("genderError").style.color = 'red';-->
<!--           fieldsChecks["gender"] = false;-->
<!--             btn.setAttribute("disabled","");-->
<!--          }-->
<!--       validateAndEnableSubmit();-->
<!--         }-->




    </script>
</head>

<body>
<nav class="navbar navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="index.html">HOME</a>
</nav>
<div>
    <h1>Blood-donation Form....</h1>
</div>

<form name="register" action="bloodDonation" method="post" class="bg-light">
    <div class="form-group row ">
        <label for="firstname" class="col-sm-3 col-form-label">firstname </label>
        <div class="col-sm-5">
            <input type="text" name="firstName" class="form-control mr-sm-2" id="firstname" placeholder="firstname "
                   onchange="firstnameValidation()" required>
            <span id="firstnameError"></span>
        </div>
    </div>
    <div class="form-group row ">
        <label for="firstname" class="col-sm-3 col-form-label">firstname </label>
        <div class="col-sm-5">
            <input type="text" name="lastName" class="form-control mr-sm-2" id="lastname" placeholder="lastname "
                   onchange="lastnameValidation()" required>
            <span id="lastnameError"></span>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-sm-3 col-form-label " for="bloodGroup">Select Bloodgroup</label>
        <select class="custom-select " id="bloodGroup" name="bloodGroup" onchange="bloodGroupValidation()" required>
            <option value="">Select...</option>
            <option value="A+">A+</option>
            <option value="B+">B+</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
        </select>
        <span id="bloodGroupError"></span>
    </div>
    <div class="form-group row">
        <label class="col-sm-3 col-form-label" for="age">Select Age</label>
        <select class="custom-select" name="age" id="age" onchange="ageValidation()" required>
            <option value="">Select...</option>
            <option value="18 to 25">18 to 25</option>
            <option value="25 to 32">25 to 32</option>
            <option value="33 to 40">33 to 40</option>
            <option value="40 to 48">40 to 48</option>
        </select>
        <span id="ageError"></span>
    </div>

    <div class="form-group row">
        <label class="col-sm-3 col-form-label" >Select Gender</label>
        <div class="col-sm-4" >
            <div class="form-check">
                <input class="form-check-input" onchange="genderValidation()" type="radio" name="gender" id="male" value="male" checked>
                <label class="form-check-label" for="male">
                    Male
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input"  type="radio" name="gender" id="female" value="female" onchange="genderValidation()">
                <label class="form-check-label" for="female">
                    Female
                </label>
            </div>
        </div>
        <span id="genderError"></span>
    </div>


    <div class="form-check">
        <input class="form-check-input " type="checkbox" value="" id="invalidCheck" required>
        <label class="form-check-label" for="invalidCheck">
            Agree to terms and conditions
        </label>
        <div class="invalid-feedback">
            You must agree before submitting.
        </div>
    </div>
    <button id="button" class="btn btn-primary " type="submit" onclick="printMethod()" disabled>Submit form</button>
</form>



</body>

</html>